<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table,
        th,
        td,
        tr {
            border: 2px solid;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 20px;
            font-size: 1rem;
        }

        img {
            width: 100px;
        }
    </style>
</head>
<body>
    <script>

        // let URL = "https://pokeapi.co/api/v2/pokemon/ditto";
        let URL = "https://randomuser.me/api/";



        let table = document.createElement("table");
        let thead = document.createElement("thead");
        let trHead = document.createElement("tr");
        thead.appendChild(trHead);

        let trHeadData = ["gender","name","location","email","login","dob","registered","phone","cell","id","picture","nat"];
        trHeadData.forEach(element=>{
            let th = document.createElement("th");
            th.innerHTML=element;
            trHead.appendChild(th);
        });

        let tbody = document.createElement("tbody");

        fetch(URL).then(response=>response.json())
        .then(data=>{
            console.log(data);
            for(i of data["results"]){
                let tr = document.createElement("tr");
                // console.log(i);
                for(j in i){
                    // console.log(i[j]);
                    let td = document.createElement("td");

                    if(j==="name"){
                        td.innerHTML=`${i[j].title} ${i[j].first} ${i[j].last}`
                    }

                    else if(j==="location"){
                        td.innerHTML=`${i[j].street.number}, ${i[j].street.name}, ${i[j].city},${i[j].state},${i[j].country}`
                    }
                    else if(j==="login"){
                        td.innerHTML=`${i[j].uuid},${i[j].username},${i[j].password}`
                    }
                    else if(j==="dob"){
                        td.innerHTML=`${i[j].date},${i[j].age}`;
                    }
                    else if(j==="registered"){
                        td.innerHTML=`${i[j].date},${i[j].age}`
                    }
                    else if(j==="id"){
                        td.innerHTML=`${i[j].name},${i[j].value}`
                    }
                    else if(j==="picture"){
                        let img = document.createElement("img");
                        img.src=`${i[j].large}`;
                        td.appendChild(img);
                    }
                    else{

                    td.innerHTML=i[j];
                    
                }
                tr.appendChild(td);
            }
                tbody.appendChild(tr);
            }
        })




        table.append(thead,tbody);
        document.body.appendChild(table)
    </script>
</body>
</html>